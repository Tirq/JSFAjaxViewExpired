<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<f:loadBundle basename="resources.application" var="msg" />

<h:head>
	<title><h:outputText value="#{msg.welcomeTitle}" /></title>
	
	<script type="text/javascript">$ = jQuery;</script>

	<script language="javascript">  
            $().ready(function(){  
                $.ajaxSetup({  
                        error:function(x,e){  
                                if(x.status==403){  
                                   alert('SUA SESSÃO EXPIROU E UMA NOVA SESSÃO SERÁ INICIADA!');
                                   //location.reload(); //recarregar a própria página
                                   location.href="other.xhtml" //ir para outra página   
                                }  
                        }  
                });  
            }); 
            
        </script>
</h:head>

<h:body>
	<h:form>
		<p:growl id="msg"/>
		<h:panelGroup id="pg"> 
			<p:outputLabel value="Olá" rendered="#{bean.start}"/>
		</h:panelGroup>
		<p:commandButton value="Mensagem com ajax" actionListener="#{bean.message}" update="pg,msg" />
	</h:form>
</h:body>
</html>
